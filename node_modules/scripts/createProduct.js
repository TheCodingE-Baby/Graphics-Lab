import * as THREE from 'three';
import { scene } from './initScene.js'; // Import the scene from the initialization script

// Function to create a 3D product model of an Icosahedron
const Icosahedron = () => {
    // Create a geometry for the Icosahedron
    const geometry = new THREE.IcosahedronGeometry(1, 0); // Create an Icosahedron with radius 1 and detail level 0\
    geometry.setAttribute(
        'color', 
        new THREE.Float32BufferAttribute(new Array(geometry.attributes.position.count * 3).fill(0.5), 3) // Set initial color attribute
    );
    material.vertexColors = true; // Enable vertex colors for the material

    // Create a material for the Icosahedron
    const material = new THREE.MeshStandardMaterial({
        color: 0x0077ff, // Blue color
        metalness: 0.5, // Metallic appearance
        roughness: 0.5, // Roughness for a matte finish
        transparent: true, // Enable transparency
        opacity: 0.8 // Set opacity to 80%
    });

    const icosahedron = new THREE.Mesh(geometry, material); // Create a mesh with the geometry and material
    icosahedron.position.set(0, 1, 0); // Position the Icosahedron in the scene
    icosahedron.castShadow = true; // Enable shadow casting for the Icosahedron
    scene.add(icosahedron); // Add the Icosahedron mesh to the scene
    
    // Add wireframe for better visibility
    const wireframe = new THREE.LineSegments(
        new THREE.EdgesGeometry(geometry), // Create edges from the geometry
        new THREE.LineBasicMaterial({ color: 0xffffff, linewidth: 2, transparent: true, opacity: 0.5 }) // White color for the wireframe
    );
    // Add the wireframe to the Icosahedron mesh
    icosahedron.add(wireframe);
    return icosahedron;
};
    window.addEventListener('click', () => {
        // Update the Icosahedron's position or scale if needed on window resize
        Icosahedron.rotation.x += 0.2; // Rotate the Icosahedron on the X-axis
        Icosahedron.rotation.y += 0.2; // Rotate the Icosahedron on the Y-axis
    });

Icosahedron(); // Call the function to create the Icosahedron model